<!-- Header -->
<h1 class="mt-0">Rankings</h1>

<!-- Rankings Table -->
<p-table [value]="rankings()" [tableStyle]="{ 'min-width': '100%' }">
  <ng-template pTemplate="header">
    <tr>
      <th>Rank</th>
      <th>Player</th>
      <th>Score</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-ranking>
    <tr>
      <td class="text-center">{{ ranking.rank }}</td>
      <td>{{ ranking.display_name }}</td>
      <td>
        @if (userIsGameMaster()) {
          <p-inputNumber
            #scoreInput
            [ngModel]="ranking.score"
            (ngModelChange)="updateScore(ranking.id, $event)"
            [showButtons]="true"
            buttonLayout="horizontal"
            [step]="1"
            incrementButtonIcon="pi pi-plus"
            decrementButtonIcon="pi pi-minus"
            inputStyleClass="w-full"
          />
        } @else {
          {{ ranking.score }}
        }
      </td>
    </tr>
  </ng-template>
</p-table>
